ang.factory("CrudPlugin",[function(){var n={Crud:{CrudPLugin:{Init:function(){return new Promise(function(n,t){var e=null;document.addEventListener("deviceready",function(){try{e=window.sqlitePlugin.openDatabase({name:"gurps.db",location:"default"}),e?n(e):t({erro:"Sqllite nÃ£o instanciado"})}catch(n){t(n.message)}})})}},ExecuteQueryConsulta:function(t){var e=new Promise(function(e,r){var i=[];n.Crud.CrudPLugin.Init().then(function(n){n.transaction(function(n){n.executeSql(t.query,t.args,function(n,t){if(t.rows.length>0){try{for(var u=0;u<t.rows.length;u++){var a=JSON.parse(t.rows.item(u).data);a.id=t.rows.item(u).id,i.push(a)}}catch(n){r(n)}e(i)}else e([])})})})});return e}}};return n}]);